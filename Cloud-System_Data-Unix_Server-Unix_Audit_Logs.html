<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Logscape Cloud Support	</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style-app.css" rel="stylesheet">
    <link href="css/cloud-app.css" rel="stylesheet">
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/angular-1.2.9/angular.min.js"></script>
    <script src="js/angular-1.2.9/angular-animate.min.js"></script>
    <script src="js/angular-1.2.9/angular-route.min.js"></script>
    <script src="js/app/controllers.js"> </script>
    <script src="js/cloud-breadcrumb.js"></script>
    <script>
      $(document).ready(function(){
      	navigation_bind();
      });
      function navigation_bind(){
       $(".menu p").click(function() {
       $(".submenu").each(function() {
       $(this).attr("style", "display:none");
       });
       parent = $(this).parent();
       ul = parent.find("ul");
       ul.attr("style", "display:block");
       });
      }
    </script>
    <script>
      function submit_form(){
      	var q=$("#searchBox").val() 
      	q=encodeURIComponent(q)
      	var query="https://www.google.com/?gws_rd=cr&q=site:logscape.github.io+#q=site:logscape.github.io+"+q
      	var location = window.location.href;
      	console.log("back:" + location);
      	history.pushState({},"",location); 
      	window.location.replace(query);
      }
    </script>
    <script>
      $( document ).ready(function() {
      
      	$("#cseSubmit").on("click",function(e){
      		e.preventDefault();
      		submit_form(); 
      	});
      	$("#searchBox").on("keypress",function(e){ 
      		if (e.keyCode == 13) { 
      			e.preventDefault();
      			submit_form() 
      		}
      	}); 
      });
      
    </script>
  </head>
  <body>
    <div style="width:100%;height:85px;background-color:#333;">
      <!--div
      a(href="/") Documentation
      a(href="")  Forums 	| 
      a(href="") Getting Started	|
      a(href="") Logscape  	| 
      -->
      <div style="padding-left:100px;padding-top:20px"><img src="images/logscapecloud.png" style="height:45px">
        <div style="float:right" class="col-md-3">
          <form id="cse-search-box" action="" style="position:right;padding-top:5px;padding-bottom:5px" onSubmit="submit_form()"></form>
          <input type="hidden" name="cx" value="015161349156186070243:ktxh8djpql8">
          <input type="hidden" name="ie" value="UTF-8">
          <input id="searchBox" type="text" name="q" size="31" style="margin-left:15px">
          <input id="cseSubmit" type="submit" value=" " class="btn-search">
        </div>
      </div>
    </div>
    <div style="width:100%;height:40px;background-color:#EEE;box-shadow: 0 0 2px #999;">
      <div style="padding-left:70px;padding-top:10px"><a href="/index.html">Support  | </a><a href="http://logscape.activeboard.com/">Forums   | </a><a href="/apps.html">Apps   | </a><a href="http://www.logscape.com">Logscape.com	</a></div>
    </div>
    <div style="" class="row">
      <div style="" class="col-md-2 nav-padding">
        <hr>
        <ul class="menu nav nav-tabs nav-stacked">
          <li><a href="Cloud-Introduction.html">Introduction</a>
            <ul class="menu nav nav-tabs nav-stacked active open">
              <!--lia(href="cloud-welcome.html") Welcome to Logscape
              -->
              <li><a href="Cloud-Introduction-Full_Stack_Monitoring.html">Full Stack Monitoring</a></li>
              <li><a href="Cloud-Introduction-Getting_Started.html">Getting Started </a></li>
            </ul>
          </li>
          <li><a href="Cloud-Stream_Your_Data.html">Stream Your Data </a>
            <ul class="submenu nav nav-tabs nav-stacked closed"><a href="Cloud-Stream_Your_Data-Syslog.html">&#9654; Syslog</a>
              <ul class="closed">
                <li><a href="Cloud-Stream_Your_Data-Syslog-Watching_A_File.html">Watching a file</a></li>
                <!--lia(href="") Managing multiple clients
                -->
              </ul>
              <li><a href="Cloud-Stream_Your_Data-NxLog.html">Nxlog </a></li>
              <li><a href="Cloud-Stream_Your_Data-Collector.html">&#9654; Collector </a>
                <ul>
                  <li><a href="Cloud-Stream_Your_Data-Collector-JMX.html">JMX</a></li>
                  <li><a href="Cloud-Stream_Your_Data-Collector-JSON.html"> </a></li>
                  <li><a href="Cloud-Stream_Your_Data-Collector-SQL.html">SQL</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="Cloud-System_Data.html">System Data </a>
            <ul class="submenu nav nav-tabs nav-stacked"><a href="Cloud-System_Data-Unix_Server.html" class="active">&#9654; Unix Server</a>
              <ul class="open"> 
                <li><a href="Cloud-System_Data-Unix_Server-Unix_System_Logs.html">Unix System Logs</a></li>
                <li><a href="Cloud-System_Data-Unix_Server-Unix_Audit_Logs.html">Unix Audit Logs</a></li>
              </ul><a href="Cloud-System_Data-Windows_Server.html">&#9654; Windows Server</a>
              <ul class="closed">
                <li><a href="Cloud-System_Data-Windows_Server-Windows_System_Logs.html">Windows Event Logs</a></li>
                <li><a href="Cloud-System_Data-Windows_Server-Windows_Audit_Logs.html">Windows Audit Logs</a></li>
              </ul>
            </ul>
          </li>
          <li><a href="Cloud-Application_Data.html">Application Data </a>
            <ul class="submenu nav nav-tabs nav-stacked closed">
              <li> <a href="Cloud-Application_Data-Java_Logs.html">Java Logs </a></li>
              <!--li a(href="cloud-dotnet-logs.html") DotNet Logs 
              -->
              <!--li 
              a(href="cloud-aws-logs.html") Amazon AWS 
              
              -->
              <!--lia(href="cloud-iis-logs.html") IIS Logs 
              -->
              <!--p Web Data-->
              <li><a href="Cloud-Application_Data-Apache_Logs.html">Apache Logs</a></li>
              <li><a href="Cloud-Application_Data-Nginx_Logs.html">Nginx Logs</a></li>
              <li><a href="Cloud-Application_Data-Web_Logs.html">Web Logs</a></li>
            </ul>
          </li>
          <li><a href="Cloud-Network_Devices.html">Network Devices </a>
            <ul class="submenu nav nav-tabs nav-stacked closed">
              <li><a href="Cloud-Network_Devices-Juniper.html">Juniper</a></li>
              <li> <a href="Cloud-Network_Devices-Cisco_ASA.html">Cisco ASA	</a></li>
            </ul>
          </li>
          <!--li
          p Logscape Configuration
          ul.submenu.nav.nav-tabs.nav-stacked.closed
          	li
          		a(href="cloud-alerts.html") Alerts
          	li
          		a(href="cloud-workspaces.html") Creating a workspace
          	li
          		a(href="cloud-sub-user.html") Create a new team member		
          
          
          
          -->
        </ul>
      </div>
      <div class="col-md-9 apps">
        <div ng-app="docBrowserApp" class="row"> </div>
        <div>
          <h6 id="breadcrumb">System Data/ Unix/ Unix Audit Logs</h6>
          <h3>	Configuring your Unix Audit Logs.</h3>
          <p>With properly configured audit'ing rules, Unix machines are capable of providing a wealth of data regarding your users activity. Using a Syslog configuration it'll only take a minute to get your logs into the cloud.</p>
          <div style="padding-left:50px;" class="images"><img src="/images/cloud-unix-audit-workspace.png" width="600" class="shadow">
            <!--.side-box
            h4 Configuring Fields 
            a(href="types-tutorial.html") Types Tutorial 
            br
            a(href="types-fields.html") Fields 
            br
            a(href="types-field_discovery.html") Field Discovery
            br
            a(href="types-field_grokit.html") Grokit Fields 
            br
            a(href="types-system_fields.html") System Fields 
            br
            
            -->
          </div>
          <h3>Unix Audit Logs</h3><strong>1) Add a new config to your /etc/rsyslog.d/ directory.</strong>
          <p>You'll need a new config file in order to store all of the configuration settings relating to auditing, we named it "02-unix-audit.conf"</p>
          <pre>sudo vi /etc/rsyslog.d/02-unix-audit.conf</pre><strong>2) Update your config file</strong>
          <p>Below is the config file for transferring your audit logs to the cloud via syslog, make sure to change the security token to reflect your own found on the account management page.</p>
          <pre>$InputFilePollInterval 10
$PrivDropToGroup adm
$WorkDirectory /var/spool/rsyslog
 
# Apache access file:
$InputFileName /var/log/audit/audit.log
$InputFileTag unix-audit:
$InputFileStateFile stat-unix-audit
$InputFileSeverity info
$InputFilePersistStateInterval 20000
$InputRunFileMonitor
 
#Add a tag for audit events
$template UnixAudit,"LOGSCAPETOKEN:YOUR_SECURITY_TOKEN_HERE LOGSCAPETAG:unix-audit <%pri%>%protocol-version% %timestamp:::date-rfc3339% %HOSTNAME% %app-name% %procid% %msgid% %msg%"
 
if $programname == 'unix-audit' then @@collector.logscape.com:1468;UnixAudit
if $programname == 'unix-audit' then ~</pre><br>
          <p>You'll also need to make sure your rsyslog.conf loads imfile with the line</p>
          <pre>$ModLoad imfile</pre><strong>3) Restart Syslog</strong>
          <p>You'll need to restart your syslog daemon in order for the changes to take effect.</p>
          <pre>sudo service restart rsyslog</pre><strong>4) Permissions</strong>
          <p>By default the audit.log, and the directory that contains it can only be accessed by root, permissions will have to be changed in order to allow syslog read permissions for the directory and file.</p>
        </div><br><br><br>
        <div id="disqus_thread">
          <script>
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'logscape'; // required: replace example with your forum shortname
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
            	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            	dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script>
        </div>
      </div>
    </div>
  </body>
</html>
<!--
.container		
//		
	.navbar.navbar-fixed-top
		.navbar-inner
			.nav-collapse.collapse
				ul.nav
					li.active  Main Support Site 
					li Explore Logscape Apps 
					li 
						a(href="") Download 
			h3 Logscape Apps 
			a(href="index.html") Getting Started | 
			a(href="http://support.liquidlabs.co.uk")  Older Versions 1.3x Docs   

.container-fluid
	br
	br 
	br
	br
	br
	.row 
		.col-md-11(style="padding-left:100px")
			block content 
	
script(src="js/ga.js") 
-->
<!--
//
	.row
		.col-md-2.nav-padding
		
			br
	
			ul
				li
					a(href="https://github.com/logscape/windowsapp#windowsapp-10") WindowsApp
				li 
					a(href="https://github.com/logscape/unixapp#unixapp-10") UnixApp

				li 
					a(href="https://github.com/logscape/coherenceapp#oraclecoherenceapp-10") Oracle Coherence App

				li 
					a(href="https://github.com/logscape/javaapp#javaapp-10") JavaApp

				li 
					a(href="https://github.com/logscape/vmwareapp#vmwareapp-10") VMWareApp

				li
					a(href="https://github.com/logscape/ciscoapp#ciscoapp-10") Cisco Devices




		.col-md-10
			block content
-->