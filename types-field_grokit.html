<!DOCTYPE html><html lang="en"><head><title>	Logscape 2.0 	</title><link href="css/bootstrap.min.css" rel="stylesheet"><link href="css/style.css" rel="stylesheet"><link href="css/font-awesome-4.0.3/css/font-awesome.min.css" rel="stylesheet"><script src="js/jquery-1.11.0.js"></script><script src="js/bootstrap.min.js"></script><script>var breadcrumbs={
 "gettingstarted":"Getting Started" 
 ,"searching":"Search"
  ,"kv":"Data Discovery"
  ,"offsets":"Using Offsets"
  ,"geoip":"Geo IP"
  ,"pattern":"Using Search Patterns"
  ,"video":"tutorials"
  ,"overlays":"Overlaying Searches" 
 ,"starthere":""
 
 ,"ds":"Data Sources"
  ,"add":" Add a New Data Source" 
  ,"multitags":" Using Multi-Tags"
  ,"syslog":" Connect Syslog Clients" 
  ,"tags": " Sources and Tags" 
  ,"intelligent_field_discovery":" Intelligent Field Discovery" 
 ,"types":"Data Types"
  ,"system_fields":"System Fields" 
 ,"deploy":"Deployment" 
  ,"app":" Logscape Apps"
  ,"agents": "Agents "
  ,"architectures_default": " Default Deployment"
  ,"architectures_failover": "Failover" 
  ,"architectures_indexstores": " Index Stores" 
  ,"architectures_tenured":"Tenured Data"
  ,"architectures_zones":" Zones" 
  ,"Backup": "Backup" 
   ,"home":" The Home WorkspacE"
   ,"import":" Restoring from Backup"
   ,"partial": " Selective Import"
   
  ,"arch_zoning":"Distributed Topology" 
  ,"arch_clm":"Centralized Monitoring Topology" 
  ,"arch_indexstores":"Multiple Index Store Topology" 
  
  ,"rawtcpserver": "Tcp Server"
  ,"syslogserer":"Syslog Server"
  ,"centralconfigs":"Centralized Configuration"
  ,"boot_properties":"Boot Properties"
  
 ,"users":"Users"
  ,"datagroups": "Data Groups"
   ,"nested": "Nested Groups"
 ,"ldap":"Active Directory" 
};
$(window).load(function(){
 function genLink(arr,idx){
  if (idx<0) { return "/"; } 
  var l="/"
  for(i=0;i<=idx;i++){
   l=l +  arr[i] + "-" ;
  }
  return l.substring(0,l.length-1) + ".html";
 }
 
 function renderCrumbs(page){
  console.log("rendering breadcrumbs for page:" + page)
  if (page.indexOf("-") < 0){
   return ""
  }
  var parts=page.split("-");
  var idx=0;
  console.log("rendering  " + parts);
  var html="<a href='"+genLink(parts,-1)+"'> / Home </a>";
  for(idx=0;idx<parts.length;idx++){
   k=parts[idx];
   html=html + "<a href="+ genLink(parts,idx) + ">";
   if (breadcrumbs.hasOwnProperty(k)){
    html=html + " / " + breadcrumbs[k];
   }else{
    html=html + " / " + k[0].toUpperCase() + k.substring(1,k.length);
   }
   console.log(".");
  }
  console.log("this far!!!");
  return html
 }
 var elems=window.location.href.split('?')[0].split('/');
 var currentPage=elems[elems.length-1].split('.')[0]
 console.log("crumb>" + renderCrumbs(currentPage));	
 $('#widget-bc').html(renderCrumbs(currentPage));
});

</script><script>var blogFeed;
function parseRSS(url, callback) {
 $.ajax({
  url: document.location.protocol + '//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=' + encodeURIComponent(url),
  dataType: 'json',
  success: function(data) {
   callback(data.responseData.feed);
  }});
}
$(window).load(function() { 
 parseRSS("http://blog.logscape.com/feed",function(feed){
  var num = feed.entries.length;
  for(i=0;i< num;i++){
   var title=feed.entries[i].title;
   //var link=feed.entries[i].
   link=feed.entries[i].link;
   $(".resource-list ul").append("<li><a href='"+link+"'>"+title+"</a> </li>")
   blogFeed=feed;
  }
 });
});
</script><script>$(window).bind("pageshow",function(){
 var $form= $("form")[0];
 $form.reset(); 
});
</script><script>function submit_form(){
 var q=$("#searchBox").val() 
 q=encodeURIComponent(q)
 var query="https://www.google.com/?gws_rd=cr&q=site:logscape.github.io++"+q+"#q=site:logscape.github.io++"+q
 var location = window.location.href;
 console.log("back:" + location);
 history.pushState({},"",location); 
 window.location.replace(query);
}</script></head><body><img style="height:0;width:0" src="http://logscape.com/images/track.png?version=support"><div style="min-height:30px;margin-bottom:5px;" class="container-fluid navbar"><div style="height:5px" class="row"> </div><div class="row navbar-inner"><div style="width:10px" class="col-md-1"> </div><div class="col-md-11"><form id="cse-search-box" action="" style="position:right;padding-top:5px;padding-bottom:5px" onSubmit="submit_form()"><a href="/"><img src="images/logo.png" style="padding-top:0px,padding-right:15px" width="150"></a><input type="hidden" name="cx" value="partner-pub-2789521296837340:9402765321"><input type="hidden" name="ie" value="UTF-8"><input id="searchBox" type="text" name="q" size="31" style="margin-left:15px"><input id="cseSubmit" type="submit" value=" " class="btn-search">&nbsp;&nbsp;<a href="http://apps.logscape.com">Apps |  </a><a href="http://support.liquidlabs.co.uk">Release 1.3 | </a><a href="http://logscape.activeboard.com/">Forums </a></form></div></div></div><div class="container-fluid"><div class="row"><div class="col-md-2"></div><div class="col-md-5"><div id="widget-bc" padding-left:150px class="breadcrumbs style">&nbsp;</div></div><!--<p> <a href="">>> Home </a><a href=""> / Searches</a><a href=""> / Overlaying Searches </a></p>--></div><div class="row"><div style="width:10px" class="col-md-1"><p></p></div><div class="col-md-2 nav-padding"><ul class="nav nav-tabs nav-stacked"> <li><a href="searching.html">Search</a></li><li> <a href="workspaces.html">WorkSpaces</a></li><li> <a href="ds.html">Data Sources</a></li><li> <a href="types.html">Data Types </a></li><li>	<a href="deploy.html">Deployment </a></li><li>	<a href="users.html">Users </a></li><li> <a href="alerts.html">Alerts 	</a></li><li><a href="technology.html">Technology</a></li></ul><div class="resource-list"><ul style="list-style:none;padding-left:0px"> <h4>Blog Feed</h4></ul></div></div><div class="col-md-9 content-area"> <div class="container-fluid"><div class="row"><div class="col-md-11"><h3>Intelligent Log Analysis – Field Discovery</h3><h4>Field discovery.</h4><p>Field discovery is cool because it does most of the hard-work for you. It finds system metrics, emails, ipAddress and all sorts of things that you never really realised were filling up your logs. Log analysis has never been so powerful J. Its nice that you can add data, click on Search and see stuff. Log analysis tools keep getting smarter and smarter.</p><p><div class="side-box"><h3>Useful Links</h3><a href="http://www.debuggex.com"> DebuggeX  </a><br><a href="http://regex101.com"> Regex 101</a></div></p><p>Logscape 2.1 builds on the already popular auto-field discovery by providing users with the ability to add their own, ‘auto-patterns’. The system is called grokIt. Im going to discuss the two approaches and how they work within Logscape.</p><p>Implementations:<ul> <li>Auto-Field discovery (Key-Value pairs) </li><li>GrokIt Pattern based discovery (Well known patterns)</li></ul></p><h4>Automatic Log Analysis of Key-Value pairs</h4><p>With 2.0 we launched Key-Value pattern extraction. The idea is simple, whenever a recognised Key-Value pattern is found we index the pair and make them searchable terms.</p><blockquote>CPU:99 hostname:travisio  </blockquote><p>and </p><blockquote>{ “user”:”john barness”,”ip:”128.10.8.150″,”action”:”login” }</blockquote><h4> Pattern based extraction (GrokIt):</h4><p>With this release we have included the ability to extract known patterns such as, email-addresses, hostnames, log-levels, paths, etc. So every time john@jj-pennies.com is seen, then the data is extracted and indexed against the key (_email). The standard config file is logscape/downloads/grokit.properties</p><pre>#field-name and regular expression matchers that extract a single group for the value
_email:.*?([_A-Za-z0-9-\.]+@[A-Za-z0-9-]+\.[A-Za-z]{2,}).*?
_ipAddress:.*?([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}).*?
_exception:.*?([_A-Za-z0-9-\.]+Exception).*?
_url:.*?([A-Za-z]{4,4}://[A-Za-z.0-9]+[:0-9]{0,6}[A-Za-z/]+).*?
_level:.*?(INFO|ERROR|WARN|DEBUG|FATAL|TRACE|SEVERE|DEBUG).*?
_hour:.*?[,.\s-]([0-9]{2,2}):[0-9]{2,2}:[0-9]{2,2}[,.\s-].*?
_minute:.*?[,.\s-][0-9]{2,2}:([0-9]{2,2}):[0-9]{2,2}[,.\s-].*?
_gpath:.*?(\/[A-Za-z0-9]+\/[\/A-Za-z0-9]+).*?</pre><p>Each of these patterns were considered to be the most practical in terms of a) – seeing useful information or b) – slicing your data by time (hour of day).</p><p>Each entry contains the FieldName (lhs) : Expression (rhs). The regular expression must return a group that contains the value (see the orange brackets above). At the bottom we reference some of the awesome regular expression tools we used for these.</p><h4>How do I configure it?</h4><p>	To make changes you can add or remove entries. Open your favourite text editor (vim?) – make the changes and save it (make sure you test it) . Once saved, then upload the file via the deployments page where the file is replicated to all agents on the network.</p><p>Any new files being monitored will pick up the configuration change (note: it wont happen mid-point through a file). To have the change applied retrospectively you will need to re-index the Datasource.</p><h4>When is it applied?</h4><p>As with anything, we have tried to make both discovery systems as fast as possible. Key-Value extraction can perform at a rate of 17-20MB/s per pattern, unfortunately the supported 8 different rules cumulatively slow things down. GrokIt – or regular expression parsing is about 14MB/s per compiled pattern. Again this is too slow; as you will see from above, there are 8 of them.</p><p> <strong>IndexTime:  </strong>The easiest way to remove the performance penalty is to do the work once, and not when the user is waiting. In our case, when either of the discovery systems are enabled, a Field Database is used to store the data in its most efficient form (dictionary oriented maps). This decouples the processing and provides reasonable search performance on attributes that are unlikely to change.</p><p> <strong>SearchTime: </strong>At search time the executor will pull in any discovered fields and make them available for that event. This provides decent performance and better system scalability.</p><h3>Configurable by the DataSource</h3><p>To allow better performance, we have exposed FieldDiscovery flags on the DataSource/Advanced tab. Standard logscape sources have discovery disabled.</p><div class="image"><center><img src="images/types-fields_grokit-sourcesconfig.png"></center></div></div></div><div class="row"><div class="col-md-11"><br><br><br><div id="disqus_thread"><script>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'logscape'; // required: replace example with your forum shortname
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script></div></div></div></div></div></div><!--<hr class="dark"><div class="col-md-3"></div><Logscape>Copyright 2014(c) Registered Trademark </Logscape>--></div><script>$( document ).ready(function() {

 $("#cseSubmit").on("click",function(e){
  e.preventDefault();
  submit_form(); 
 });
 $("#searchBox").on("keypress",function(e){ 
  if (e.keyCode == 13) { 
   e.preventDefault();
   submit_form() 
  }
 }); 
});
</script><script src="js/ga.js"> </script></body></html>